# Description
Efficient translator for RPG Maker VX Ace games, fully written in Ruby, that can decompile all .rvdata2 files that are text-related to a readable text files and vice-versa.

- Auto decryption for rgss3a files, it will do this only if there's no "Data" folder found in the game's folder.
- Error handling for out of bound pages, common events and event commands, along with indentaion too.
- Provides two modes for decompiling/compiling of event commands, indexless and indexing modes.
- Infinite depth serialization/deserialization all parameter types in common events.
- User friendly textual representation of all parameter types in common events.
- Filtering to target spacific file(s) for decompiling/compiling.
- Hightly organized output format and file structure.
- Full support for all event command types.
- Fast decomopling/compiling speed.
- Small output size.


# How To Use
Call the VXAceTranslator.exe file with the following arguments:-

```Decompiler Usage: RPGMakerVXAceTranslator.exe -d GAME_DIR -o OUTPUT_DIR [Optional]```

```Compiler Usage: RPGMakerVXAceTranslator.exe -c GAME_DIR -i INPUT_DIR [Optional] -o OUTPUT_DIR [Optional]```

You can add (-t TARGET_FILENAME) in case you want to decompile/compile specific files, only files that include that target filename in it's base name will be processed.
Also, you can add (--switch-indexless) to switch off indexless mode, enabling indexing mode back.

# Examples
Example 1:-

```Decompiling: VXAceTranslator.exe -d path/to/game```
  
```Compiling: VXAceTranslator.exe -c path/to/game```

Example 2:-

```Decompiling: VXAceTranslator.exe -d path/to/game -t Map```
  
```Compiling: VXAceTranslator.exe -c path/to/game -t Map```

Example 3:-

```Decompiling: VXAceTranslator.exe -d path/to/game -t Map001```
  
```Compiling: VXAceTranslator.exe -c path/to/game -t Map001```

# Indexless vs Indexing Mode
Those are modes specify how to read and write event commands in CommonEvents.rvdata2, Maps.rvdata2 and Troops.rvdata2.

In indexless mode, event commands are compiled from the ground up based on what's written by the user, in the order the user written them in, any removed event commands will be discarded in compilation, this gives more freedom, but can destroy future compatibility in case the game got an update.

In indexing mode, event commands are written proceeded by it's index in the list of it's corresponding common event, original event commands in the game's files will be patched by the new values, which the user written in it's corresponding index, this applies for the event type and parameters too, removing any event command or changing it's order will have no effect in the game, gives less freedom, but assures future compatibility, it supports adding new event commands with simple syntax.

# How To Add Event Commands in Indexing Mode
The decompiler format for event comments in indexing mode is as follows:-

`Index-CommandEventName([Parameters])`

To manually add an event command, you have write them in the same way, but at the end of the line, you will add a plus sign, like this:-

`Index-CommandEventName([Parameters])+`

Surly the indentation level you will add behind the event command will be accounted for.
This will make the compiler insert that command in the index you have written, also you don't have to account for the future indexes of the event commands that follows the one you are adding, this will be automatically handled by the compiler.

# How To Build
1- Make sure you have Ruby v2.7.8, any version higher than that have a different format for marshaled files, and it's not compatible with the engine.

2- Make sure RubyGems is not installed at all, as it causes crashes with executables generated by Ocra library, a version of Ocra ripped from the official gem is included in the project.

3- Simply run Build.rb and done.

> **_NOTE:_** As the newest version of RubyGems causes crashes with executables generated by Ocra library, and the source code in the official Ocra GitHub is outdated, and the updated working code is available only in the gem version of Ocra, I installed Ocra gem, copied Ocra folder from RubyGems directory, reinstalled Ruby, and used the copied Ocra library manually, and it worked perfectly.
